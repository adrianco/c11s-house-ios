# Quick Start Guide for HouseThoughts Q&A System

## Current Implementation

The Q&A system is integrated into the ConversationView:
- **HouseThoughts** displays the current question
- **Transcript area** is where users provide their answer
- **Save button** appears when there's a question and an answer
- Only one Q&A pair is visible at a time

## First Question
The system starts with "What's your name?" - this asks for the **user's name**, not the house name.
Once saved, the user's name replaces "Real-time Transcript:" with "[Name]'s Response:"

## How It Works
1. App loads first unanswered question
2. Question appears in HouseThoughts display
3. User speaks or types answer in transcript
4. Save button stores the answer as a "note"
5. Next unanswered question loads automatically

## How to Add More Questions

### Method 1: Add to Predefined Questions (Recommended)

Edit `/C11Shouse/C11SHouse/Models/NotesStore.swift`:

```swift
extension Question {
    static let predefinedQuestions: [Question] = [
        Question(
            text: "What's your name?",
            category: .personal,
            displayOrder: 1,
            isRequired: true,
            hint: "Your name"
        ),
        // Add new questions here:
        Question(
            text: "What's your favorite room temperature?",
            category: .preferences,
            displayOrder: 2,
            isRequired: false,
            hint: "Temperature in Fahrenheit"
        ),
        // More questions...
    ]
}
```

### Method 2: Add Questions Dynamically via Service

You can also add questions programmatically through the NotesService:

```swift
let newQuestion = Question(
    text: "What's your emergency contact?",
    category: .personal,
    displayOrder: 10,
    isRequired: false,
    hint: "Name and phone number for emergencies"
)

try await serviceContainer.notesService.addQuestion(newQuestion)
```

## Question Properties

When creating a new question, you need to specify:

- **text**: The question text (required)
- **category**: One of the predefined categories (required)
- **displayOrder**: Number determining sort order (required)
- **isRequired**: Whether the question must be answered (optional, defaults to false)
- **hint**: Help text shown to users (optional)
- **id**: UUID (auto-generated if not provided)
- **createdAt**: Creation timestamp (auto-generated)

## Question Categories

Questions must belong to one of these categories:

- `.personal` - Personal information (icon: person.circle)
- `.houseInfo` - House details (icon: house)
- `.maintenance` - Maintenance records (icon: wrench.and.screwdriver)
- `.preferences` - User preferences (icon: gearshape)
- `.reminders` - Reminders and notes (icon: bell)
- `.other` - Miscellaneous (icon: questionmark.circle)

## Best Practices

1. **Display Order**: Keep display orders sequential. Lower numbers appear first.
2. **Required Questions**: Use sparingly - only for critical information.
3. **Hints**: Provide clear, helpful hints to guide users.
4. **Categories**: Choose the most appropriate category for organization.
5. **Question Text**: Keep questions clear and concise.

## Example Questions

### Home Security
```swift
Question(
    text: "What's your alarm system code?",
    category: .houseInfo,
    displayOrder: 7,
    isRequired: false,
    hint: "Store securely - only accessible on your device"
)
```

### Maintenance Reminder
```swift
Question(
    text: "When should the water filter be replaced?",
    category: .maintenance,
    displayOrder: 8,
    isRequired: false,
    hint: "Enter date or frequency (e.g., every 6 months)"
)
```

### Personal Preference
```swift
Question(
    text: "What music do you like to wake up to?",
    category: .preferences,
    displayOrder: 9,
    isRequired: false,
    hint: "Genre, artist, or specific playlist"
)
```

## Testing Your Questions

After adding questions:

1. Build and run the app
2. Navigate to Conversations
3. Answer the current question and tap Save
4. Verify your new questions appear in the correct order
5. Test answering and editing the questions

## Troubleshooting

- **Questions not appearing**: Check that you've incremented the displayOrder
- **Compilation errors**: Ensure all required parameters are provided
- **Category issues**: Verify you're using a valid QuestionCategory enum value
- **Duplicate questions**: Each question needs a unique ID (auto-generated by default)

## Advanced: Custom Categories

To add a new category, modify the `QuestionCategory` enum in `NotesStore.swift`:

```swift
enum QuestionCategory: String, Codable, CaseIterable {
    // Existing categories...
    case security = "Security"  // Add new category
    
    var iconName: String {
        switch self {
        // Existing cases...
        case .security: return "lock.circle"  // Add icon
        }
    }
}
```

Remember to handle the new category in any switch statements throughout the codebase.

## Future House Name
The house name feature will be implemented separately. For now, the app uses "Your House" as a placeholder.