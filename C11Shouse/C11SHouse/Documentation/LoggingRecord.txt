CLIENT OF UIKIT REQUIRES UPDATE: This process does not adopt UIScene lifecycle. This will become an assert in a future version.
Running tests...
    t =      nans Interface orientation changed to Portrait
Test Suite 'Selected tests' started at 2025-07-22 15:00:00.306.
Test Suite 'C11SHouseUITests.xctest' started at 2025-07-22 15:00:00.307.
Test Suite 'ConversationViewUITests' started at 2025-07-22 15:00:00.307.
Test Case '-[C11SHouseUITests.ConversationViewUITests testTextMessageSending]' started.
    t =     0.00s Start Test at 2025-07-22 15:00:00.307
    t =     0.01s Set Up
ðŸ§ª ConversationViewUITests: Starting test setup
ðŸ§ª ConversationViewUITests: Launching app with arguments: ["UI_TESTING", "--skip-onboarding"]
    t =     0.01s     Open com.c11s.house
    t =     0.01s         Launch com.c11s.house
    t =     3.02s             Setting up automation session
    t =     5.08s             Wait for com.c11s.house to idle
    t =     6.65s     Waiting 2.0s for "StartConversation" Button to exist
    t =     7.67s         Checking `Expect predicate `existsNoRetry == 1` for object "StartConversation" Button`
    t =     7.67s             Checking existence of `"StartConversation" Button`
    t =     9.00s             Capturing element debug description
    t =     9.00s         Checking existence of `"StartConversation" Button`
    t =    10.69s     Find the "StartConversation" Button
    t =    10.73s     Tap "StartConversation" Button
    t =    10.73s         Wait for com.c11s.house to idle
    t =    10.73s         Find the "StartConversation" Button
    t =    10.75s         Check for interrupting elements affecting "StartConversation" Button
    t =    10.78s         Synthesize event
    t =    11.07s         Wait for com.c11s.house to idle
    t =    11.18s     Waiting 5.0s for "Back" Button to exist
    t =    12.20s         Checking `Expect predicate `existsNoRetry == 1` for object "Back" Button`
    t =    12.20s             Checking existence of `"Back" Button`
ðŸ§ª ConversationViewUITests: testTextMessageSending started
ðŸ§ª muteConversation: Starting
    t =    12.23s Checking existence of `"speaker.slash.fill" Button`
    t =    12.25s Checking existence of `"Unmute" Button`
    t =    12.27s Checking existence of `"Type a message..." TextField`
    t =    12.29s Waiting 3.0s for "speaker.wave.2.fill" Button to exist
    t =    13.30s     Checking `Expect predicate `existsNoRetry == 1` for object "speaker.wave.2.fill" Button`
    t =    13.31s         Checking existence of `"speaker.wave.2.fill" Button`
    t =    13.35s         Capturing element debug description
    t =    14.37s     Checking `Expect predicate `existsNoRetry == 1` for object "speaker.wave.2.fill" Button`
    t =    14.37s         Checking existence of `"speaker.wave.2.fill" Button`
    t =    14.41s         Capturing element debug description
    t =    15.29s     Checking `Expect predicate `existsNoRetry == 1` for object "speaker.wave.2.fill" Button`
    t =    15.29s         Checking existence of `"speaker.wave.2.fill" Button`
    t =    15.34s         Capturing element debug description
    t =    15.34s     Checking existence of `"speaker.wave.2.fill" Button`
    t =    15.37s Collecting debug information to assist test failure triage
    t =    15.37s     Requesting snapshot of accessibility hierarchy for app with pid 52437
    t =    15.43s Waiting 2.0s for "Mute" Button to exist
    t =    16.45s     Checking `Expect predicate `existsNoRetry == 1` for object "Mute" Button`
    t =    16.45s         Checking existence of `"Mute" Button`
ðŸ§ª muteConversation: Tapping mute button (by label)
    t =    16.50s Tap "Mute" Button
    t =    16.50s     Wait for com.c11s.house to idle
    t =    16.51s     Find the "Mute" Button
    t =    16.55s     Check for interrupting elements affecting "ConversationView" Button
    t =    16.58s     Synthesize event
    t =    16.88s     Wait for com.c11s.house to idle
    t =    16.89s Waiting 5.0s for "Type a message..." TextField to exist
    t =    17.92s     Checking `Expect predicate `existsNoRetry == 1` for object "Type a message..." TextField`
    t =    17.92s         Checking existence of `"Type a message..." TextField`
ðŸ§ª muteConversation: Completed
    t =    18.08s Waiting 5.0s for "Type a message..." TextField to exist
    t =    19.11s     Checking `Expect predicate `existsNoRetry == 1` for object "Type a message..." TextField`
    t =    19.12s         Checking existence of `"Type a message..." TextField`
    t =    19.17s Tap "Type a message..." TextField
    t =    19.17s     Wait for com.c11s.house to idle
    t =    19.18s     Find the "Type a message..." TextField
    t =    19.21s     Check for interrupting elements affecting "ConversationView" TextField
    t =    19.25s     Synthesize event
    t =    19.55s     Wait for com.c11s.house to idle
    t =    19.93s Type 'Hello from UI test' into "ConversationView" TextField
    t =    19.93s     Wait for com.c11s.house to idle
    t =    20.47s     Find the "ConversationView" TextField
    t =    20.51s     Check for interrupting elements affecting "ConversationView" TextField
    t =    20.54s     Synthesize event
    t =    21.06s     Wait for com.c11s.house to idle
    t =    21.95s Checking existence of `"arrow.up.circle.fill" Button`
    t =    24.10s Checking existence of `"Send" Button`
    t =    24.14s Get all elements bound by index for: Descendants matching type Button
    t =    24.17s Find the Button (Element at index 0)
    t =    24.20s Find the "Emoji" Button
    t =    24.22s Find the "ConversationView" TextField
    t =    24.26s Find the Button (Element at index 1)
    t =    24.28s Find the "dictation" Button
    t =    24.31s Find the "ConversationView" TextField
    t =    24.34s Find the "dictation" Button
    t =    24.60s Find the Button (Element at index 2)
    t =    24.74s Find the "shift" Button
    t =    24.80s Find the "ConversationView" TextField
    t =    24.84s Find the Button (Element at index 3)
    t =    24.97s Find the "Return" Button
    t =    25.02s Find the "ConversationView" TextField
    t =    25.06s Find the "Return" Button
    t =    25.08s Find the "Return" Button
    t =    25.11s Find the "Return" Button
    t =    25.13s Find the "Return" Button
    t =    25.16s Find the "Return" Button
    t =    25.18s Find the Button (Element at index 4)
    t =    25.31s Find the "ConversationView" Button
    t =    25.35s Find the "ConversationView" TextField
    t =    25.39s Find the "ConversationView" Button
    t =    25.42s Find the "ConversationView" Button
    t =    25.45s Find the "ConversationView" Button
    t =    25.47s Find the "ConversationView" Button
    t =    25.50s Find the "ConversationView" Button
    t =    25.52s Find the "ConversationView" Button
    t =    25.55s Find the "ConversationView" Button
    t =    25.58s Find the "ConversationView" Button
    t =    25.60s Find the "ConversationView" Button
    t =    25.63s Checking existence of `"ConversationView" Button`
    t =    25.65s Find the "ConversationView" Button
ðŸ§ª testTextMessageSending: No send button found, using keyboard return
    t =    25.68s Type '
' into "ConversationView" TextField
    t =    25.68s     Wait for com.c11s.house to idle
    t =    25.68s     Find the "ConversationView" TextField
    t =    25.71s     Check for interrupting elements affecting "ConversationView" TextField
    t =    25.75s     Synthesize event
    t =    25.98s     Wait for com.c11s.house to idle
    t =    26.42s Waiting 3.0s for "Hello from UI test" StaticText to exist
    t =    27.45s     Checking `Expect predicate `existsNoRetry == 1` for object "Hello from UI test" StaticText`
    t =    27.45s         Checking existence of `"Hello from UI test" StaticText`
    t =    27.51s Find the "ConversationView" TextField
/Users/adriancockcroft/Documents/GitHub/c11s-house-ios/C11Shouse/C11SHouseUITests/ConversationViewUITests.swift:329: error: -[C11SHouseUITests.ConversationViewUITests testTextMessageSending] : XCTAssertEqual failed: ("Optional("Hello from UI test")") is not equal to ("Optional("")") - Text field should be cleared after sending
    t =    27.72s Tear Down
ðŸ§ª ConversationViewUITests: Test teardown
Test Case '-[C11SHouseUITests.ConversationViewUITests testTextMessageSending]' failed (27.954 seconds).
Test Suite 'ConversationViewUITests' failed at 2025-07-22 15:00:28.262.
	 Executed 1 test, with 1 failure (0 unexpected) in 27.954 (27.956) seconds
Test Suite 'C11SHouseUITests.xctest' failed at 2025-07-22 15:00:28.263.
	 Executed 1 test, with 1 failure (0 unexpected) in 27.954 (27.957) seconds
Test Suite 'Selected tests' failed at 2025-07-22 15:00:28.264.
	 Executed 1 test, with 1 failure (0 unexpected) in 27.954 (27.958) seconds

     CLIENT OF UIKIT REQUIRES UPDATE: This process does not adopt UIScene lifecycle. This will become an assert in a future version.
Running tests...
    t =      nans Interface orientation changed to Portrait
Test Suite 'Selected tests' started at 2025-07-22 15:00:53.663.
Test Suite 'C11SHouseUITests.xctest' started at 2025-07-22 15:00:53.663.
Test Suite 'ConversationViewUITests' started at 2025-07-22 15:00:53.663.
Test Case '-[C11SHouseUITests.ConversationViewUITests testVoiceInputButton]' started.
    t =     0.00s Start Test at 2025-07-22 15:00:53.664
    t =     0.01s Set Up
ðŸ§ª ConversationViewUITests: Starting test setup
ðŸ§ª ConversationViewUITests: Launching app with arguments: ["UI_TESTING", "--skip-onboarding"]
    t =     0.01s     Open com.c11s.house
    t =     0.01s         Launch com.c11s.house
    t =     2.34s             Setting up automation session
    t =     4.64s             Wait for com.c11s.house to idle
    t =     5.91s     Waiting 2.0s for "StartConversation" Button to exist
    t =     6.92s         Checking `Expect predicate `existsNoRetry == 1` for object "StartConversation" Button`
    t =     6.92s             Checking existence of `"StartConversation" Button`
    t =     8.25s             Capturing element debug description
    t =     8.25s         Checking existence of `"StartConversation" Button`
    t =     9.83s     Find the "StartConversation" Button
    t =     9.87s     Tap "StartConversation" Button
    t =     9.87s         Wait for com.c11s.house to idle
    t =     9.88s         Find the "StartConversation" Button
    t =     9.89s         Check for interrupting elements affecting "StartConversation" Button
    t =     9.92s         Synthesize event
    t =    10.21s         Wait for com.c11s.house to idle
    t =    10.33s     Waiting 5.0s for "Back" Button to exist
    t =    11.36s         Checking `Expect predicate `existsNoRetry == 1` for object "Back" Button`
    t =    11.36s             Checking existence of `"Back" Button`
ðŸ§ª ConversationViewUITests: testVoiceInputButton started
ðŸ§ª unmuteConversation: Starting
    t =    11.39s Checking existence of `"mic.circle.fill" Button`
    t =    11.41s Waiting 1.0s for "Microphone" Button to exist
    t =    12.41s     Checking `Expect predicate `existsNoRetry == 1` for object "Microphone" Button`
    t =    12.41s         Checking existence of `"Microphone" Button`
    t =    12.44s     Checking existence of `"Microphone" Button`
ðŸ§ª unmuteConversation: Already unmuted (mic button exists)
    t =    12.97s Checking existence of `"mic.circle.fill" Button`
    t =    13.01s Checking existence of `"Microphone" Button`
    t =    13.04s Checking existence of `"Microphone" Button`
    t =    13.06s Checking existence of `"Microphone" Button`
    t =    13.08s Checking existence of `"Microphone" Button`
    t =    13.10s Checking existence of `"Microphone" Button`
    t =    13.12s Waiting 2.0s for "Tap to speak" StaticText to exist
    t =    14.13s     Checking `Expect predicate `existsNoRetry == 1` for object "Tap to speak" StaticText`
    t =    14.13s         Checking existence of `"Tap to speak" StaticText`
    t =    14.18s Find the "Microphone" Button
    t =    14.21s Tap "ConversationView" Button
    t =    14.21s     Wait for com.c11s.house to idle
    t =    14.22s     Find the "ConversationView" Button
    t =    14.24s     Check for interrupting elements affecting "ConversationView" Button
    t =    14.28s     Synthesize event
    t =    14.58s     Wait for com.c11s.house to idle
    t =    15.07s Waiting 3.0s for "stop.circle.fill" Button to exist
    t =    16.10s     Checking `Expect predicate `existsNoRetry == 1` for object "stop.circle.fill" Button`
    t =    16.11s         Checking existence of `"stop.circle.fill" Button`
    t =    16.15s Waiting 2.0s for "Recording..." StaticText to exist
    t =    17.19s     Checking `Expect predicate `existsNoRetry == 1` for object "Recording..." StaticText`
    t =    17.19s         Checking existence of `"Recording..." StaticText`
    t =    17.23s Tear Down
ðŸ§ª ConversationViewUITests: Test teardown
Test Case '-[C11SHouseUITests.ConversationViewUITests testVoiceInputButton]' passed (17.478 seconds).
Test Suite 'ConversationViewUITests' passed at 2025-07-22 15:01:11.142.
	 Executed 1 test, with 0 failures (0 unexpected) in 17.478 (17.479) seconds
Test Suite 'C11SHouseUITests.xctest' passed at 2025-07-22 15:01:11.143.
	 Executed 1 test, with 0 failures (0 unexpected) in 17.478 (17.480) seconds
Test Suite 'Selected tests' passed at 2025-07-22 15:01:11.144.
	 Executed 1 test, with 0 failures (0 unexpected) in 17.478 (17.481) seconds