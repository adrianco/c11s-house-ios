[WeatherKitService] 🌦️ Initializing WeatherKit service
[WeatherKitService] Bundle ID: com.c11s.house
[WeatherKitService] ✅ Running on real device
[WeatherKitService] ⚠️ Entitlements file not found in bundle
[WeatherCoordinator] 🌤️ Initialized with services
[WeatherCoordinator] Weather service: WeatherKitServiceImpl
[WeatherCoordinator] Notes service: NotesServiceImpl
[WeatherCoordinator] Location service: LocationServiceImpl
[ContentViewModel] Init complete - currentWeather: nil
[ContentViewModel] Init complete - houseName: Your House
[ContentViewModel] Init complete - address: nil
[QuestionFlowCoordinator] Initialized
[QuestionFlowCoordinator] Notifications setup complete (AllQuestionsComplete listener removed)
[ContentViewModel] Weather update received: nil
[ContentViewModel] 🌤️ refreshWeather() called
[ContentViewModel] Fetching weather for: 14450 Roland Canyon Rd, Salinas, CA 93908
[ContentViewModel] Current weather before fetch: nil
Query for com.apple.MobileAsset.VoiceServicesVocalizerVoice failed: 2
#FactoryInstall Unable to query results, error: 5
Query for com.apple.MobileAsset.VoiceServices.GryphonVoice failed: 2
Query for com.apple.MobileAsset.VoiceServices.GryphonVoice failed: 2
Query for com.apple.MobileAsset.VoiceServices.GryphonVoice failed: 2
Test Suite 'All tests' started at 2025-07-16 13:10:41.653.
Test Suite 'C11SHouseTests.xctest' started at 2025-07-16 13:10:41.653.
Test Suite 'AddressManagerTests' started at 2025-07-16 13:10:41.653.
Test Case '-[C11SHouseTests.AddressManagerTests testAddressErrorDescriptions]' started.
Test Case '-[C11SHouseTests.AddressManagerTests testAddressErrorDescriptions]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressManagerTests testDetectCurrentAddressHandlesGeocodeError]' started.
[WeatherCoordinator] Weather question creation already in progress
[WeatherCoordinator] Weather question already exists
Started onboarding phase: Welcome
🚀 ONBOARDING SESSION STARTED - ID: 5FC8A4C4-D5E2-466F-BEC6-7C410F4E4567
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📍 PHASE TRANSITION: Start → welcome
[ContentViewModel] Weather update received: partlyCloudy
👆 USER ACTION: view_appeared in welcome
Test Case '-[C11SHouseTests.AddressManagerTests testDetectCurrentAddressHandlesGeocodeError]' passed (0.020 seconds).
Test Case '-[C11SHouseTests.AddressManagerTests testDetectCurrentAddressHandlesLocationError]' started.
Test Case '-[C11SHouseTests.AddressManagerTests testDetectCurrentAddressHandlesLocationError]' passed (0.011 seconds).
Test Case '-[C11SHouseTests.AddressManagerTests testDetectCurrentAddressSetsIsDetectingFlag]' started.
[WeatherCoordinator] Updated weather note successfully
[ContentViewModel] ✅ Weather fetch successful: partlyCloudy
[ContentViewModel] Temperature: 67°F
[ContentViewModel] Current weather after fetch: exists
Test Case '-[C11SHouseTests.AddressManagerTests testDetectCurrentAddressSetsIsDetectingFlag]' passed (0.004 seconds).
Test Case '-[C11SHouseTests.AddressManagerTests testDetectCurrentAddressWithNotDeterminedPermission]' started.
Test Case '-[C11SHouseTests.AddressManagerTests testDetectCurrentAddressWithNotDeterminedPermission]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressManagerTests testDetectCurrentAddressWithoutPermission]' started.
Test Case '-[C11SHouseTests.AddressManagerTests testDetectCurrentAddressWithoutPermission]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressManagerTests testDetectCurrentAddressWithPermission]' started.
Test Case '-[C11SHouseTests.AddressManagerTests testDetectCurrentAddressWithPermission]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressManagerTests testFullAddressFlowIntegration]' started.
Debug: saveNoteCallCount before saveAddress = 0
[AddressManager] saveAddressToNotes called with address: 100 Universal City Plaza, Universal City, CA 91608
[MockNotesServiceWithTracking] loadNotesStore called
[MockNotesServiceWithTracking] Returning notes store with 4 questions
[MockNotesServiceWithTracking] Question: Is this the right address?
[MockNotesServiceWithTracking] Question: What should I call this house?
[MockNotesServiceWithTracking] Question: What's your name?
[MockNotesServiceWithTracking] Question: Let's start by creating your first room note! What room would you like to add a note about?
[AddressManager] Loaded notes store with 4 questions
[AddressManager] Found address question: Is this the right address?
[MockNotesServiceWithTracking] loadNotesStore called
[MockNotesServiceWithTracking] Returning notes store with 4 questions
[MockNotesServiceWithTracking] Question: Is this the right address?
[MockNotesServiceWithTracking] Question: What should I call this house?
[MockNotesServiceWithTracking] Question: What's your name?
[MockNotesServiceWithTracking] Question: Let's start by creating your first room note! What room would you like to add a note about?
[MockNotesServiceWithTracking] saveNote called with questionId: 76DB1686-742D-4CD2-B868-94DFD67CF908, answer: 100 Universal City Plaza, Universal City, CA 91608
[MockNotesServiceWithTracking] Incremented saveNoteCallCount to: 1
[AddressManager] Saved address note
[AddressManager] Found house name question: What should I call this house?
[AddressManager] Generated house name: Universal City House
[MockNotesServiceWithTracking] loadNotesStore called
[MockNotesServiceWithTracking] Returning notes store with 4 questions
[MockNotesServiceWithTracking] Question: Is this the right address?
[MockNotesServiceWithTracking] Question: What should I call this house?
[MockNotesServiceWithTracking] Question: What's your name?
[MockNotesServiceWithTracking] Question: Let's start by creating your first room note! What room would you like to add a note about?
[MockNotesServiceWithTracking] saveNote called with questionId: C47B05F2-FA24-4C44-8ACE-FAEFF6E7C121, answer: Universal City House
[MockNotesServiceWithTracking] Incremented saveNoteCallCount to: 2
[AddressManager] Saved house name note
[AddressManager] User confirmed address, now saving as answered: 100 Universal City Plaza, Universal City, CA 91608
Debug: saveNoteCallCount after saveAddress = 2
[MockNotesServiceWithTracking] loadNotesStore called
[MockNotesServiceWithTracking] Returning notes store with 4 questions
[MockNotesServiceWithTracking] Question: Is this the right address?
[MockNotesServiceWithTracking] Question: What should I call this house?
[MockNotesServiceWithTracking] Question: What's your name?
[MockNotesServiceWithTracking] Question: Let's start by creating your first room note! What room would you like to add a note about?
Debug: saveNoteCallCount = 2
Debug: saveOrUpdateNoteCallCount = 0
Debug: shouldThrowError = false
Debug: questions count = 4
Debug: notes count = 2
Test Case '-[C11SHouseTests.AddressManagerTests testFullAddressFlowIntegration]' passed (0.003 seconds).
Test Case '-[C11SHouseTests.AddressManagerTests testGenerateHouseNameFromFullAddress]' started.
Test Case '-[C11SHouseTests.AddressManagerTests testGenerateHouseNameFromFullAddress]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressManagerTests testGenerateHouseNameFromStreetOnly]' started.
Test Case '-[C11SHouseTests.AddressManagerTests testGenerateHouseNameFromStreetOnly]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressManagerTests testGenerateHouseNameHandlesVariousFormats]' started.
Test Case '-[C11SHouseTests.AddressManagerTests testGenerateHouseNameHandlesVariousFormats]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressManagerTests testLoadSavedAddressWhenExists]' started.
Test Case '-[C11SHouseTests.AddressManagerTests testLoadSavedAddressWhenExists]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressManagerTests testLoadSavedAddressWhenNotExists]' started.
Test Case '-[C11SHouseTests.AddressManagerTests testLoadSavedAddressWhenNotExists]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressManagerTests testLoadSavedAddressWithCorruptData]' started.
Test Case '-[C11SHouseTests.AddressManagerTests testLoadSavedAddressWithCorruptData]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressManagerTests testParseAddressWithDetectedCoordinates]' started.
Test Case '-[C11SHouseTests.AddressManagerTests testParseAddressWithDetectedCoordinates]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressManagerTests testParseAddressWithInvalidFormat]' started.
Test Case '-[C11SHouseTests.AddressManagerTests testParseAddressWithInvalidFormat]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressManagerTests testParseAddressWithoutDetectedCoordinates]' started.
Test Case '-[C11SHouseTests.AddressManagerTests testParseAddressWithoutDetectedCoordinates]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressManagerTests testSaveAddressDoesNotOverwriteExistingHouseName]' started.
[AddressManager] saveAddressToNotes called with address: 111 Cedar Ave, Seattle, WA 98101
[MockNotesServiceWithTracking] loadNotesStore called
[MockNotesServiceWithTracking] Returning notes store with 4 questions
[MockNotesServiceWithTracking] Question: Is this the right address?
[MockNotesServiceWithTracking] Question: What should I call this house?
[MockNotesServiceWithTracking] Question: What's your name?
[MockNotesServiceWithTracking] Question: Let's start by creating your first room note! What room would you like to add a note about?
[AddressManager] Loaded notes store with 4 questions
[AddressManager] Found address question: Is this the right address?
[MockNotesServiceWithTracking] loadNotesStore called
[MockNotesServiceWithTracking] Returning notes store with 4 questions
[MockNotesServiceWithTracking] Question: Is this the right address?
[MockNotesServiceWithTracking] Question: What should I call this house?
[MockNotesServiceWithTracking] Question: What's your name?
[MockNotesServiceWithTracking] Question: Let's start by creating your first room note! What room would you like to add a note about?
[MockNotesServiceWithTracking] saveNote called with questionId: 76DB1686-742D-4CD2-B868-94DFD67CF908, answer: 111 Cedar Ave, Seattle, WA 98101
[MockNotesServiceWithTracking] Incremented saveNoteCallCount to: 1
[AddressManager] Saved address note
[AddressManager] Found house name question: What should I call this house?
[AddressManager] House name question already answered
[AddressManager] User confirmed address, now saving as answered: 111 Cedar Ave, Seattle, WA 98101
Test Case '-[C11SHouseTests.AddressManagerTests testSaveAddressDoesNotOverwriteExistingHouseName]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressManagerTests testSaveAddressGeneratesHouseNameIfNeeded]' started.
[AddressManager] saveAddressToNotes called with address: 999 Birch Lane, Portland, OR 97201
[MockNotesServiceWithTracking] loadNotesStore called
[MockNotesServiceWithTracking] Returning notes store with 4 questions
[MockNotesServiceWithTracking] Question: Is this the right address?
[MockNotesServiceWithTracking] Question: What should I call this house?
[MockNotesServiceWithTracking] Question: What's your name?
[MockNotesServiceWithTracking] Question: Let's start by creating your first room note! What room would you like to add a note about?
[AddressManager] Loaded notes store with 4 questions
[AddressManager] Found address question: Is this the right address?
[MockNotesServiceWithTracking] loadNotesStore called
[MockNotesServiceWithTracking] Returning notes store with 4 questions
[MockNotesServiceWithTracking] Question: Is this the right address?
[MockNotesServiceWithTracking] Question: What should I call this house?
[MockNotesServiceWithTracking] Question: What's your name?
[MockNotesServiceWithTracking] Question: Let's start by creating your first room note! What room would you like to add a note about?
[MockNotesServiceWithTracking] saveNote called with questionId: 76DB1686-742D-4CD2-B868-94DFD67CF908, answer: 999 Birch Lane, Portland, OR 97201
[MockNotesServiceWithTracking] Incremented saveNoteCallCount to: 1
[AddressManager] Saved address note
[AddressManager] Found house name question: What should I call this house?
[AddressManager] Generated house name: Birch House
[MockNotesServiceWithTracking] loadNotesStore called
[MockNotesServiceWithTracking] Returning notes store with 4 questions
[MockNotesServiceWithTracking] Question: Is this the right address?
[MockNotesServiceWithTracking] Question: What should I call this house?
[MockNotesServiceWithTracking] Question: What's your name?
[MockNotesServiceWithTracking] Question: Let's start by creating your first room note! What room would you like to add a note about?
[MockNotesServiceWithTracking] saveNote called with questionId: C47B05F2-FA24-4C44-8ACE-FAEFF6E7C121, answer: Birch House
[MockNotesServiceWithTracking] Incremented saveNoteCallCount to: 2
[AddressManager] Saved house name note
[AddressManager] User confirmed address, now saving as answered: 999 Birch Lane, Portland, OR 97201
Test Case '-[C11SHouseTests.AddressManagerTests testSaveAddressGeneratesHouseNameIfNeeded]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressManagerTests testSaveAddressToAllStorageLocations]' started.
[AddressManager] saveAddressToNotes called with address: 789 Elm Street, Chicago, IL 60601
[MockNotesServiceWithTracking] loadNotesStore called
[MockNotesServiceWithTracking] Returning notes store with 4 questions
[MockNotesServiceWithTracking] Question: Is this the right address?
[MockNotesServiceWithTracking] Question: What should I call this house?
[MockNotesServiceWithTracking] Question: What's your name?
[MockNotesServiceWithTracking] Question: Let's start by creating your first room note! What room would you like to add a note about?
[AddressManager] Loaded notes store with 4 questions
[AddressManager] Found address question: Is this the right address?
[MockNotesServiceWithTracking] loadNotesStore called
[MockNotesServiceWithTracking] Returning notes store with 4 questions
[MockNotesServiceWithTracking] Question: Is this the right address?
[MockNotesServiceWithTracking] Question: What should I call this house?
[MockNotesServiceWithTracking] Question: What's your name?
[MockNotesServiceWithTracking] Question: Let's start by creating your first room note! What room would you like to add a note about?
[MockNotesServiceWithTracking] saveNote called with questionId: 76DB1686-742D-4CD2-B868-94DFD67CF908, answer: 789 Elm Street, Chicago, IL 60601
[MockNotesServiceWithTracking] Incremented saveNoteCallCount to: 1
[AddressManager] Saved address note
[AddressManager] Found house name question: What should I call this house?
[AddressManager] Generated house name: Elm House
[MockNotesServiceWithTracking] loadNotesStore called
[MockNotesServiceWithTracking] Returning notes store with 4 questions
[MockNotesServiceWithTracking] Question: Is this the right address?
[MockNotesServiceWithTracking] Question: What should I call this house?
[MockNotesServiceWithTracking] Question: What's your name?
[MockNotesServiceWithTracking] Question: Let's start by creating your first room note! What room would you like to add a note about?
[MockNotesServiceWithTracking] saveNote called with questionId: C47B05F2-FA24-4C44-8ACE-FAEFF6E7C121, answer: Elm House
[MockNotesServiceWithTracking] Incremented saveNoteCallCount to: 2
[AddressManager] Saved house name note
[AddressManager] User confirmed address, now saving as answered: 789 Elm Street, Chicago, IL 60601
Test Case '-[C11SHouseTests.AddressManagerTests testSaveAddressToAllStorageLocations]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressManagerTests testSaveAddressToNotesBasicFunctionality]' started.
[AddressManager] saveAddressToNotes called with address: 123 Test Street, Test City, TC 12345
[MockNotesServiceWithTracking] loadNotesStore called
[MockNotesServiceWithTracking] Returning notes store with 4 questions
[MockNotesServiceWithTracking] Question: Is this the right address?
[MockNotesServiceWithTracking] Question: What should I call this house?
[MockNotesServiceWithTracking] Question: What's your name?
[MockNotesServiceWithTracking] Question: Let's start by creating your first room note! What room would you like to add a note about?
[AddressManager] Loaded notes store with 4 questions
[AddressManager] Found address question: Is this the right address?
[MockNotesServiceWithTracking] loadNotesStore called
[MockNotesServiceWithTracking] Returning notes store with 4 questions
[MockNotesServiceWithTracking] Question: Is this the right address?
[MockNotesServiceWithTracking] Question: What should I call this house?
[MockNotesServiceWithTracking] Question: What's your name?
[MockNotesServiceWithTracking] Question: Let's start by creating your first room note! What room would you like to add a note about?
[MockNotesServiceWithTracking] saveNote called with questionId: 76DB1686-742D-4CD2-B868-94DFD67CF908, answer: 123 Test Street, Test City, TC 12345
[MockNotesServiceWithTracking] Incremented saveNoteCallCount to: 1
[AddressManager] Saved address note
[AddressManager] Found house name question: What should I call this house?
[AddressManager] Generated house name: Test House
[MockNotesServiceWithTracking] loadNotesStore called
[MockNotesServiceWithTracking] Returning notes store with 4 questions
[MockNotesServiceWithTracking] Question: Is this the right address?
[MockNotesServiceWithTracking] Question: What should I call this house?
[MockNotesServiceWithTracking] Question: What's your name?
[MockNotesServiceWithTracking] Question: Let's start by creating your first room note! What room would you like to add a note about?
[MockNotesServiceWithTracking] saveNote called with questionId: C47B05F2-FA24-4C44-8ACE-FAEFF6E7C121, answer: Test House
[MockNotesServiceWithTracking] Incremented saveNoteCallCount to: 2
[AddressManager] Saved house name note
Debug test: saveNoteCallCount = 2
Debug test: mockNotesService instance = ObjectIdentifier(0x0000000104034e00)
[MockNotesServiceWithTracking] loadNotesStore called
[MockNotesServiceWithTracking] Returning notes store with 4 questions
[MockNotesServiceWithTracking] Question: Is this the right address?
[MockNotesServiceWithTracking] Question: What should I call this house?
[MockNotesServiceWithTracking] Question: What's your name?
[MockNotesServiceWithTracking] Question: Let's start by creating your first room note! What room would you like to add a note about?
Debug test: notes count = 2
Test Case '-[C11SHouseTests.AddressManagerTests testSaveAddressToNotesBasicFunctionality]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressManagerTests testSaveAddressToNotesHandlesError]' started.
[AddressManager] saveAddressToNotes called with address: Error Street, Error City, ER 00000
[MockNotesServiceWithTracking] loadNotesStore called
Error saving address to notes: decodingFailed(Error Domain=test Code=1 "(null)")
Test Case '-[C11SHouseTests.AddressManagerTests testSaveAddressToNotesHandlesError]' passed (0.000 seconds).
Test Suite 'AddressManagerTests' passed at 2025-07-16 13:10:41.705.
	 Executed 22 tests, with 0 failures (0 unexpected) in 0.050 (0.052) seconds
Test Suite 'AddressParserTests' started at 2025-07-16 13:10:41.705.
Test Case '-[C11SHouseTests.AddressParserTests testAddressWithLineBreaks]' started.
Test Case '-[C11SHouseTests.AddressParserTests testAddressWithLineBreaks]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testAllStreetSuffixVariations]' started.
Test Case '-[C11SHouseTests.AddressParserTests testAllStreetSuffixVariations]' passed (0.006 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetComponent_EmptyString]' started.
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetComponent_EmptyString]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetComponent_ExtraSpaces]' started.
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetComponent_ExtraSpaces]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetComponent_FullAddress]' started.
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetComponent_FullAddress]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetComponent_MultipleCommas]' started.
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetComponent_MultipleCommas]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetComponent_NoComma]' started.
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetComponent_NoComma]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetComponent_OnlyComma]' started.
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetComponent_OnlyComma]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetComponent_SpecialCharactersInStreet]' started.
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetComponent_SpecialCharactersInStreet]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetName_EmptyString]' started.
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetName_EmptyString]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetName_ExtraSpaces]' started.
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetName_ExtraSpaces]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetName_MixedCase]' started.
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetName_MixedCase]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetName_MultipleSuffixes]' started.
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetName_MultipleSuffixes]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetName_NoSuffix]' started.
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetName_NoSuffix]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetName_OnlyNumbers]' started.
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetName_OnlyNumbers]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetName_OnlyStreetSuffix]' started.
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetName_OnlyStreetSuffix]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetName_SpecialCharacters]' started.
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetName_SpecialCharacters]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetName_WithAbbreviatedSuffix]' started.
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetName_WithAbbreviatedSuffix]' passed (0.002 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetName_WithPeriodInSuffix]' started.
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetName_WithPeriodInSuffix]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetName_WithStreetSuffix]' started.
Test Case '-[C11SHouseTests.AddressParserTests testExtractStreetName_WithStreetSuffix]' passed (0.002 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseName_EmptyString]' started.
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseName_EmptyString]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseName_NoStreetSuffix]' started.
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseName_NoStreetSuffix]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseName_OnlyNumbers]' started.
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseName_OnlyNumbers]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseName_OnlyStreetSuffix]' started.
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseName_OnlyStreetSuffix]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseName_SpecialCharacters]' started.
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseName_SpecialCharacters]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseName_WithAbbreviatedSuffix]' started.
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseName_WithAbbreviatedSuffix]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseName_WithStreetName]' started.
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseName_WithStreetName]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseNameFromAddress_ComplexStreetName]' started.
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseNameFromAddress_ComplexStreetName]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseNameFromAddress_EmptyString]' started.
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseNameFromAddress_EmptyString]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseNameFromAddress_FullAddress]' started.
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseNameFromAddress_FullAddress]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseNameFromAddress_InternationalAddress]' started.
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseNameFromAddress_InternationalAddress]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseNameFromAddress_NoComma]' started.
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseNameFromAddress_NoComma]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseNameFromAddress_SpecialCharacters]' started.
Test Case '-[C11SHouseTests.AddressParserTests testGenerateHouseNameFromAddress_SpecialCharacters]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testLongAddressComponents]' started.
Test Case '-[C11SHouseTests.AddressParserTests testLongAddressComponents]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testParseAddress_EmptyString]' started.
Test Case '-[C11SHouseTests.AddressParserTests testParseAddress_EmptyString]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testParseAddress_InvalidAddress]' started.
Test Case '-[C11SHouseTests.AddressParserTests testParseAddress_InvalidAddress]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testParseAddress_ValidAddressWithCoordinate]' started.
Test Case '-[C11SHouseTests.AddressParserTests testParseAddress_ValidAddressWithCoordinate]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testParseAddress_ValidAddressWithoutCoordinate]' started.
Test Case '-[C11SHouseTests.AddressParserTests testParseAddress_ValidAddressWithoutCoordinate]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testParseComponents_AddressWithExtraSpaces]' started.
Test Case '-[C11SHouseTests.AddressParserTests testParseComponents_AddressWithExtraSpaces]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testParseComponents_EmptyString]' started.
Test Case '-[C11SHouseTests.AddressParserTests testParseComponents_EmptyString]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testParseComponents_InternationalFormat]' started.
Test Case '-[C11SHouseTests.AddressParserTests testParseComponents_InternationalFormat]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testParseComponents_SingleComponent]' started.
Test Case '-[C11SHouseTests.AddressParserTests testParseComponents_SingleComponent]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testParseComponents_SpecialCharacters]' started.
Test Case '-[C11SHouseTests.AddressParserTests testParseComponents_SpecialCharacters]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testParseComponents_StateWithoutPostalCode]' started.
Test Case '-[C11SHouseTests.AddressParserTests testParseComponents_StateWithoutPostalCode]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testParseComponents_TwoComponents]' started.
Test Case '-[C11SHouseTests.AddressParserTests testParseComponents_TwoComponents]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testParseComponents_ValidAddressWithCountry]' started.
Test Case '-[C11SHouseTests.AddressParserTests testParseComponents_ValidAddressWithCountry]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testParseComponents_ValidUSAddress]' started.
Test Case '-[C11SHouseTests.AddressParserTests testParseComponents_ValidUSAddress]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.AddressParserTests testUnicodeCharacters]' started.
Test Case '-[C11SHouseTests.AddressParserTests testUnicodeCharacters]' passed (0.000 seconds).
Test Suite 'AddressParserTests' passed at 2025-07-16 13:10:41.741.
	 Executed 48 tests, with 0 failures (0 unexpected) in 0.032 (0.035) seconds
Test Suite 'AddressSuggestionServiceTests' started at 2025-07-16 13:10:41.741.
Test Case '-[C11SHouseTests.AddressSuggestionServiceTests testCreateAddressConfirmationResponse]' started.
[WeatherCoordinator] 🌤️ Initialized with services
[WeatherCoordinator] Weather service: MockWeatherKitService
[WeatherCoordinator] Notes service: SharedMockNotesService
[WeatherCoordinator] Location service: MockLocationService
Test Case '-[C11SHouseTests.AddressSuggestionServiceTests testCreateAddressConfirmationResponse]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressSuggestionServiceTests testFetchWeatherForConfirmedAddress]' started.
[WeatherCoordinator] 🌤️ Initialized with services
[WeatherCoordinator] Weather service: MockWeatherKitService
[WeatherCoordinator] Notes service: SharedMockNotesService
[WeatherCoordinator] Location service: MockLocationService
[AddressSuggestionService] Starting weather fetch for confirmed address
[WeatherCoordinator] Created Weather question in notes store
[AddressSuggestionService] Address: 123 Main Street, San Francisco, CA 94105
[AddressSuggestionService] Coordinates: 37.7749, -122.4194
[AddressSuggestionService] Timestamp: 2025-07-16 20:10:41 +0000
[AddressSuggestionService] Ensuring weather question exists in notes store
[WeatherCoordinator] Created Weather question in notes store
[WeatherCoordinator] Weather question creation already in progress
[AddressSuggestionService] Initiating weather fetch
[AddressSuggestionService] ✅ Weather fetch successful
[AddressSuggestionService] Condition: clear
[AddressSuggestionService] Temperature: 72.0°<_NSStatic_NSUnitTemperature: 0x20f382eb0> °F
[AddressSuggestionService] Humidity: 65%
[AddressSuggestionService] Wind: 10 km/h
Test Case '-[C11SHouseTests.AddressSuggestionServiceTests testFetchWeatherForConfirmedAddress]' passed (0.502 seconds).
Test Case '-[C11SHouseTests.AddressSuggestionServiceTests testGenerateHouseNameSuggestions_NoStreetType]' started.
[WeatherCoordinator] 🌤️ Initialized with services
[WeatherCoordinator] Weather service: MockWeatherKitService
[WeatherCoordinator] Notes service: SharedMockNotesService
[WeatherCoordinator] Location service: MockLocationService
Test Case '-[C11SHouseTests.AddressSuggestionServiceTests testGenerateHouseNameSuggestions_NoStreetType]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressSuggestionServiceTests testGenerateHouseNameSuggestions_StreetType]' started.
[WeatherCoordinator] 🌤️ Initialized with services
[WeatherCoordinator] Weather service: MockWeatherKitService
[WeatherCoordinator] Notes service: SharedMockNotesService
[WeatherCoordinator] Location service: MockLocationService
Test Case '-[C11SHouseTests.AddressSuggestionServiceTests testGenerateHouseNameSuggestions_StreetType]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.AddressSuggestionServiceTests testSuggestCurrentAddress_Success]' started.
[WeatherCoordinator] Created Weather question in notes store
[WeatherCoordinator] 🌤️ Initialized with services
[WeatherCoordinator] Weather service: MockWeatherKitService
[WeatherCoordinator] Notes service: SharedMockNotesService
[WeatherCoordinator] Location service: MockLocationService
[WeatherCoordinator] Created Weather question in notes store
Test Case '-[C11SHouseTests.AddressSuggestionServiceTests testSuggestCurrentAddress_Success]' passed (0.001 seconds).
Test Suite 'AddressSuggestionServiceTests' passed at 2025-07-16 13:10:42.248.
	 Executed 5 tests, with 0 failures (0 unexpected) in 0.506 (0.507) seconds
Test Suite 'C11SHouseTests' started at 2025-07-16 13:10:42.248.
Test Case '-[C11SHouseTests.C11SHouseTests testExample]' started.
Test Case '-[C11SHouseTests.C11SHouseTests testExample]' passed (0.001 seconds).
Test Suite 'C11SHouseTests' passed at 2025-07-16 13:10:42.250.
	 Executed 1 test, with 0 failures (0 unexpected) in 0.001 (0.001) seconds
Test Suite 'ConversationFlowIntegrationTests' started at 2025-07-16 13:10:42.250.
Test Case '-[C11SHouseTests.ConversationFlowIntegrationTests testAddressDetectionFlow]' started.
[WeatherCoordinator] Created Weather question in notes store
[QuestionFlowCoordinator] Initialized
[QuestionFlowCoordinator] Notifications setup complete (AllQuestionsComplete listener removed)
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 4
[QuestionFlowCoordinator] Next question: 'Is this the right address?' (required: true)
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 3
[QuestionFlowCoordinator] Next question: 'What should I call this house?' (required: true)
/Users/adriancockcroft/Documents/GitHub/c11s-house-ios/C11Shouse/C11SHouseTests/Archived/ConversationFlowIntegrationTests.swift:273: error: -[C11SHouseTests.ConversationFlowIntegrationTests testAddressDetectionFlow] : XCTAssertNotNil failed
/Users/adriancockcroft/Documents/GitHub/c11s-house-ios/C11Shouse/C11SHouseTests/Archived/ConversationFlowIntegrationTests.swift:274: error: -[C11SHouseTests.ConversationFlowIntegrationTests testAddressDetectionFlow] : XCTAssertEqual failed: ("nil") is not equal to ("Optional("350 5th Ave, New York, NY 10118")")
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
Test Case '-[C11SHouseTests.ConversationFlowIntegrationTests testAddressDetectionFlow]' failed (0.176 seconds).
Test Case '-[C11SHouseTests.ConversationFlowIntegrationTests testAllQuestionCategories]' started.
[QuestionFlowCoordinator] Initialized
[QuestionFlowCoordinator] Notifications setup complete (AllQuestionsComplete listener removed)
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 4
[QuestionFlowCoordinator] Next question: 'Is this the right address?' (required: true)
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 3
[QuestionFlowCoordinator] Next question: 'What should I call this house?' (required: true)
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 3
[QuestionFlowCoordinator] Next question: 'What should I call this house?' (required: true)
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 2
[QuestionFlowCoordinator] Next question: 'What's your name?' (required: true)
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 2
[QuestionFlowCoordinator] Next question: 'What's your name?' (required: true)
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 1
[QuestionFlowCoordinator] Next question: 'Let's start by creating your first room note! What room would you like to add a note about?' (required: true)
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 1
[QuestionFlowCoordinator] Next question: 'Let's start by creating your first room note! What room would you like to add a note about?' (required: true)
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 0
[QuestionFlowCoordinator] No more questions to ask
[QuestionFlowCoordinator] Posting AllQuestionsComplete notification
[QuestionFlowCoordinator] All questions completed, NOT reloading (infinite loop prevention)
/Users/adriancockcroft/Documents/GitHub/c11s-house-ios/C11Shouse/C11SHouseTests/Archived/ConversationFlowIntegrationTests.swift:335: error: -[C11SHouseTests.ConversationFlowIntegrationTests testAllQuestionCategories] : XCTAssertGreaterThanOrEqual failed: ("2") is less than ("3")
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
Test Case '-[C11SHouseTests.ConversationFlowIntegrationTests testAllQuestionCategories]' failed (0.018 seconds).
Test Case '-[C11SHouseTests.ConversationFlowIntegrationTests testCompleteConversationFlow]' started.
[QuestionFlowCoordinator] Initialized
[QuestionFlowCoordinator] Notifications setup complete (AllQuestionsComplete listener removed)
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 4
[QuestionFlowCoordinator] Next question: 'Is this the right address?' (required: true)
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 3
[QuestionFlowCoordinator] Next question: 'What should I call this house?' (required: true)
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 2
[QuestionFlowCoordinator] Next question: 'What's your name?' (required: true)
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 1
[QuestionFlowCoordinator] Next question: 'Let's start by creating your first room note! What room would you like to add a note about?' (required: true)
/Users/adriancockcroft/Documents/GitHub/c11s-house-ios/C11Shouse/C11SHouseTests/Archived/ConversationFlowIntegrationTests.swift:176: error: -[C11SHouseTests.ConversationFlowIntegrationTests testCompleteConversationFlow] : XCTAssertEqual failed: ("") is not equal to ("Test User")
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 0
[QuestionFlowCoordinator] No more questions to ask
[QuestionFlowCoordinator] Posting AllQuestionsComplete notification
[QuestionFlowCoordinator] All questions completed, NOT reloading (infinite loop prevention)
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
Test Case '-[C11SHouseTests.ConversationFlowIntegrationTests testCompleteConversationFlow]' failed (0.011 seconds).
Test Case '-[C11SHouseTests.ConversationFlowIntegrationTests testConversationStateManagement]' started.
[QuestionFlowCoordinator] Initialized
[QuestionFlowCoordinator] Notifications setup complete (AllQuestionsComplete listener removed)
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 4
[QuestionFlowCoordinator] Next question: 'Is this the right address?' (required: true)
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 3
[QuestionFlowCoordinator] Next question: 'What should I call this house?' (required: true)
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
Test Case '-[C11SHouseTests.ConversationFlowIntegrationTests testConversationStateManagement]' passed (0.002 seconds).
Test Case '-[C11SHouseTests.ConversationFlowIntegrationTests testErrorRecovery]' started.
[QuestionFlowCoordinator] Initialized
[QuestionFlowCoordinator] Notifications setup complete (AllQuestionsComplete listener removed)
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 4
[QuestionFlowCoordinator] Next question: 'Is this the right address?' (required: true)
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 3
[QuestionFlowCoordinator] Next question: 'What should I call this house?' (required: true)
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
Test Case '-[C11SHouseTests.ConversationFlowIntegrationTests testErrorRecovery]' passed (0.002 seconds).
Test Case '-[C11SHouseTests.ConversationFlowIntegrationTests testQuestionTransitionWithExistingAnswers]' started.
[QuestionFlowCoordinator] Initialized
[QuestionFlowCoordinator] Notifications setup complete (AllQuestionsComplete listener removed)
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 4
[QuestionFlowCoordinator] Next question: 'Is this the right address?' (required: true)
/Users/adriancockcroft/Documents/GitHub/c11s-house-ios/C11Shouse/C11SHouseTests/Archived/ConversationFlowIntegrationTests.swift:228: error: -[C11SHouseTests.ConversationFlowIntegrationTests testQuestionTransitionWithExistingAnswers] : XCTAssertNotEqual failed: ("Optional("Is this the right address?")") is equal to ("Optional("Is this the right address?")")
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
Test Case '-[C11SHouseTests.ConversationFlowIntegrationTests testQuestionTransitionWithExistingAnswers]' failed (0.002 seconds).
Test Suite 'ConversationFlowIntegrationTests' failed at 2025-07-16 13:10:42.461.
	 Executed 6 tests, with 5 failures (0 unexpected) in 0.211 (0.212) seconds
Test Suite 'ConversationStateManagerTests' started at 2025-07-16 13:10:42.461.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testBeginAndEndSavingAnswer]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testBeginAndEndSavingAnswer]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testClearTranscript]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testClearTranscript]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testCurrentSessionStartIndex]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testCurrentSessionStartIndex]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testGetTranscriptHeader_WithoutUserName]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testGetTranscriptHeader_WithoutUserName]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testGetTranscriptHeader_WithUserName]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testGetTranscriptHeader_WithUserName]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testInitialState]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testInitialState]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testIsSpeaking]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testIsSpeaking]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testLoadUserName_WithNoSavedName]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testLoadUserName_WithNoSavedName]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testLoadUserName_WithSavedName]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testLoadUserName_WithSavedName]' passed (0.003 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testPublishedPropertiesUpdate]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testPublishedPropertiesUpdate]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testResetSession]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testResetSession]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testSpeak_WhenAlreadySpeaking]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testSpeak_WhenAlreadySpeaking]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testSpeak_WhenMuted]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testSpeak_WhenMuted]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testSpeak_WhenNotMuted]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testSpeak_WhenNotMuted]' passed (0.216 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testSpeak_WhenSavingAnswer]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testSpeak_WhenSavingAnswer]' passed (0.003 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testSpeak_WithError]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testSpeak_WithError]' passed (0.003 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testSpeakHouseThought_WhenMuted]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testSpeakHouseThought_WhenMuted]' passed (0.002 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testSpeakHouseThought_WithNil]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testSpeakHouseThought_WithNil]' passed (0.002 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testSpeakHouseThought_WithSuggestion]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testSpeakHouseThought_WithSuggestion]' passed (0.408 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testSpeakHouseThought_WithThoughtOnly]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testSpeakHouseThought_WithThoughtOnly]' passed (0.213 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testStartNewRecordingSession]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testStartNewRecordingSession]' passed (0.002 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testStopSpeaking]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testStopSpeaking]' passed (0.002 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testToggleEditing]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testToggleEditing]' passed (0.002 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testUpdateTranscript_EmptySessionStart]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testUpdateTranscript_EmptySessionStart]' passed (0.002 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testUpdateTranscript_FirstUpdate]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testUpdateTranscript_FirstUpdate]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testUpdateTranscript_SubsequentUpdate]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testUpdateTranscript_SubsequentUpdate]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testUpdateTranscriptFromSession_DifferentSession]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testUpdateTranscriptFromSession_DifferentSession]' passed (0.002 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testUpdateTranscriptFromSession_MatchingSession]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testUpdateTranscriptFromSession_MatchingSession]' passed (0.002 seconds).
Test Case '-[C11SHouseTests.ConversationStateManagerTests testUpdateUserName]' started.
Test Case '-[C11SHouseTests.ConversationStateManagerTests testUpdateUserName]' passed (0.002 seconds).
Test Suite 'ConversationStateManagerTests' passed at 2025-07-16 13:10:43.338.
	 Executed 29 tests, with 0 failures (0 unexpected) in 0.869 (0.877) seconds
Test Suite 'ErrorViewTests' started at 2025-07-16 13:10:43.339.
Test Case '-[C11SHouseTests.ErrorViewTests testAppErrorUserFriendlyMessages]' started.
Test Case '-[C11SHouseTests.ErrorViewTests testAppErrorUserFriendlyMessages]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.ErrorViewTests testAutoDissmissProperty]' started.
Test Case '-[C11SHouseTests.ErrorViewTests testAutoDissmissProperty]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.ErrorViewTests testErrorCodes]' started.
Test Case '-[C11SHouseTests.ErrorViewTests testErrorCodes]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.ErrorViewTests testErrorOverlayModifier]' started.
Test Case '-[C11SHouseTests.ErrorViewTests testErrorOverlayModifier]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.ErrorViewTests testErrorSeverityProperties]' started.
Test Case '-[C11SHouseTests.ErrorViewTests testErrorSeverityProperties]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.ErrorViewTests testErrorToUserFriendlyConversion]' started.
/Users/adriancockcroft/Documents/GitHub/c11s-house-ios/C11Shouse/C11SHouseTests/ErrorHandling/ErrorViewTests.swift:158: error: -[C11SHouseTests.ErrorViewTests testErrorToUserFriendlyConversion] : failed - Expected AppError.unknown
Test Case '-[C11SHouseTests.ErrorViewTests testErrorToUserFriendlyConversion]' failed (0.002 seconds).
Test Case '-[C11SHouseTests.ErrorViewTests testErrorViewInitialization]' started.
Test Case '-[C11SHouseTests.ErrorViewTests testErrorViewInitialization]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.ErrorViewTests testErrorViewWithDifferentSeverities]' started.
Test Case '-[C11SHouseTests.ErrorViewTests testErrorViewWithDifferentSeverities]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.ErrorViewTests testFullScreenErrorViewInitialization]' started.
Test Case '-[C11SHouseTests.ErrorViewTests testFullScreenErrorViewInitialization]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.ErrorViewTests testRecoverySuggestions]' started.
Test Case '-[C11SHouseTests.ErrorViewTests testRecoverySuggestions]' passed (0.001 seconds).
Test Suite 'ErrorViewTests' failed at 2025-07-16 13:10:43.351.
	 Executed 10 tests, with 1 failure (0 unexpected) in 0.010 (0.012) seconds
Test Suite 'InitialSetupFlowTests' started at 2025-07-16 13:10:43.351.
Test Case '-[C11SHouseTests.InitialSetupFlowTests testAddressParsingVariations]' started.
[QuestionFlowCoordinator] Initialized
[QuestionFlowCoordinator] Notifications setup complete (AllQuestionsComplete listener removed)
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
Test Case '-[C11SHouseTests.InitialSetupFlowTests testAddressParsingVariations]' passed (0.003 seconds).
Test Case '-[C11SHouseTests.InitialSetupFlowTests testCompleteInitialSetupFlow]' started.
[QuestionFlowCoordinator] Initialized
[QuestionFlowCoordinator] Notifications setup complete (AllQuestionsComplete listener removed)
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 4
[QuestionFlowCoordinator] Next question: 'Is this the right address?' (required: true)
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 3
[QuestionFlowCoordinator] Next question: 'What should I call this house?' (required: true)
/Users/adriancockcroft/Documents/GitHub/c11s-house-ios/C11Shouse/C11SHouseTests/Archived/InitialSetupFlowTests.swift:156: error: -[C11SHouseTests.InitialSetupFlowTests testCompleteInitialSetupFlow] : XCTAssertNotNil failed
/Users/adriancockcroft/Documents/GitHub/c11s-house-ios/C11Shouse/C11SHouseTests/Archived/InitialSetupFlowTests.swift:157: error: -[C11SHouseTests.InitialSetupFlowTests testCompleteInitialSetupFlow] : XCTAssertEqual failed: ("nil") is not equal to ("Optional("1 Apple Park Way, Cupertino, CA 95014")")
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 2
[QuestionFlowCoordinator] Next question: 'What's your name?' (required: true)
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 1
[QuestionFlowCoordinator] Next question: 'Let's start by creating your first room note! What room would you like to add a note about?' (required: true)
/Users/adriancockcroft/Documents/GitHub/c11s-house-ios/C11Shouse/C11SHouseTests/Archived/InitialSetupFlowTests.swift:196: error: -[C11SHouseTests.InitialSetupFlowTests testCompleteInitialSetupFlow] : XCTAssertNotNil failed
/Users/adriancockcroft/Documents/GitHub/c11s-house-ios/C11Shouse/C11SHouseTests/Archived/InitialSetupFlowTests.swift:197: error: -[C11SHouseTests.InitialSetupFlowTests testCompleteInitialSetupFlow] : XCTAssertEqual failed: ("nil") is not equal to ("Optional("1 Apple Park Way, Cupertino, CA 95014")")
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
Test Case '-[C11SHouseTests.InitialSetupFlowTests testCompleteInitialSetupFlow]' failed (0.011 seconds).
Test Case '-[C11SHouseTests.InitialSetupFlowTests testDataPersistenceAcrossSetup]' started.
[QuestionFlowCoordinator] Initialized
[QuestionFlowCoordinator] Notifications setup complete (AllQuestionsComplete listener removed)
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
[AddressManager] saveAddressToNotes called with address: 100 Main St, Los Angeles, CA 90012
[AddressManager] Loaded notes store with 4 questions
[AddressManager] Found address question: Is this the right address?
[AddressManager] Saved address note
[AddressManager] Found house name question: What should I call this house?
[AddressManager] Generated house name: Main House
[AddressManager] Saved house name note
[AddressManager] User confirmed address, now saving as answered: 100 Main St, Los Angeles, CA 90012
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 2
[QuestionFlowCoordinator] Next question: 'What's your name?' (required: true)
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 1
[QuestionFlowCoordinator] Next question: 'Let's start by creating your first room note! What room would you like to add a note about?' (required: true)
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
Test Case '-[C11SHouseTests.InitialSetupFlowTests testDataPersistenceAcrossSetup]' passed (0.006 seconds).
Test Case '-[C11SHouseTests.InitialSetupFlowTests testHouseNameGeneration]' started.
[QuestionFlowCoordinator] Initialized
[QuestionFlowCoordinator] Notifications setup complete (AllQuestionsComplete listener removed)
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
Test Case '-[C11SHouseTests.InitialSetupFlowTests testHouseNameGeneration]' passed (0.004 seconds).
Test Case '-[C11SHouseTests.InitialSetupFlowTests testSetupFlowWithLocationPermissionDenied]' started.
[QuestionFlowCoordinator] Initialized
[QuestionFlowCoordinator] Notifications setup complete (AllQuestionsComplete listener removed)
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
/Users/adriancockcroft/Documents/GitHub/c11s-house-ios/C11Shouse/C11SHouseTests/Archived/InitialSetupFlowTests.swift:218: error: -[C11SHouseTests.InitialSetupFlowTests testSetupFlowWithLocationPermissionDenied] : XCTAssertTrue failed
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 4
[QuestionFlowCoordinator] Next question: 'Is this the right address?' (required: true)
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 3
[QuestionFlowCoordinator] Next question: 'What should I call this house?' (required: true)
[AddressManager] saveAddressToNotes called with address: 123 Manual Entry St, Test City, CA 94000
[AddressManager] Loaded notes store with 4 questions
[AddressManager] Found address question: Is this the right address?
[AddressManager] Saved address note
[AddressManager] Found house name question: What should I call this house?
[AddressManager] Generated house name: Manual Entry House
[AddressManager] Saved house name note
[AddressManager] User confirmed address, now saving as answered: 123 Manual Entry St, Test City, CA 94000
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
Test Case '-[C11SHouseTests.InitialSetupFlowTests testSetupFlowWithLocationPermissionDenied]' failed (0.005 seconds).
Test Case '-[C11SHouseTests.InitialSetupFlowTests testSetupFlowWithNetworkErrors]' started.
[QuestionFlowCoordinator] Initialized
[QuestionFlowCoordinator] Notifications setup complete (AllQuestionsComplete listener removed)
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 4
[QuestionFlowCoordinator] Next question: 'Is this the right address?' (required: true)
[QuestionFlowCoordinator] loadNextQuestion() called
[QuestionFlowCoordinator] Current state - isLoadingQuestion: false, hasCompletedAllQuestions: false
[QuestionFlowCoordinator] Loaded notes store with 4 questions
[QuestionFlowCoordinator] Questions needing review: 3
[QuestionFlowCoordinator] Next question: 'What should I call this house?' (required: true)
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
Test Case '-[C11SHouseTests.InitialSetupFlowTests testSetupFlowWithNetworkErrors]' passed (0.002 seconds).
Test Suite 'InitialSetupFlowTests' failed at 2025-07-16 13:10:43.384.
	 Executed 6 tests, with 5 failures (0 unexpected) in 0.031 (0.032) seconds
Test Suite 'LocationServiceTests' started at 2025-07-16 13:10:43.384.
Test Case '-[C11SHouseTests.LocationServiceTests testAuthorizationStatusPublisher]' started.
Test Case '-[C11SHouseTests.LocationServiceTests testAuthorizationStatusPublisher]' passed (0.003 seconds).
Test Case '-[C11SHouseTests.LocationServiceTests testConfirmAddressSavesToUserDefaults]' started.
Test Case '-[C11SHouseTests.LocationServiceTests testConfirmAddressSavesToUserDefaults]' passed (0.002 seconds).
Test Case '-[C11SHouseTests.LocationServiceTests testLocationErrorTypes]' started.
Test Case '-[C11SHouseTests.LocationServiceTests testLocationErrorTypes]' passed (0.004 seconds).
Test Suite 'LocationServiceTests' passed at 2025-07-16 13:10:43.393.
	 Executed 3 tests, with 0 failures (0 unexpected) in 0.009 (0.010) seconds
Test Suite 'NotesServiceQuestionsTests' started at 2025-07-16 13:10:43.393.
Test Case '-[C11SHouseTests.NotesServiceQuestionsTests testAreAllRequiredQuestionsAnswered]' started.
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
Test Case '-[C11SHouseTests.NotesServiceQuestionsTests testAreAllRequiredQuestionsAnswered]' passed (0.004 seconds).
Test Case '-[C11SHouseTests.NotesServiceQuestionsTests testGetCurrentQuestion]' started.
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
Test Case '-[C11SHouseTests.NotesServiceQuestionsTests testGetCurrentQuestion]' passed (0.003 seconds).
Test Case '-[C11SHouseTests.NotesServiceQuestionsTests testGetNextUnansweredQuestion]' started.
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
Test Case '-[C11SHouseTests.NotesServiceQuestionsTests testGetNextUnansweredQuestion]' passed (0.003 seconds).
Test Case '-[C11SHouseTests.NotesServiceQuestionsTests testGetQuestionProgress]' started.
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
Test Case '-[C11SHouseTests.NotesServiceQuestionsTests testGetQuestionProgress]' passed (0.003 seconds).
Test Case '-[C11SHouseTests.NotesServiceQuestionsTests testGetQuestionsInCategory]' started.
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
Test Case '-[C11SHouseTests.NotesServiceQuestionsTests testGetQuestionsInCategory]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.NotesServiceQuestionsTests testGetUnansweredQuestions]' started.
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
Test Case '-[C11SHouseTests.NotesServiceQuestionsTests testGetUnansweredQuestions]' passed (0.003 seconds).
Test Case '-[C11SHouseTests.NotesServiceQuestionsTests testIsQuestionAnswered]' started.
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
Test Case '-[C11SHouseTests.NotesServiceQuestionsTests testIsQuestionAnswered]' passed (0.002 seconds).
Test Suite 'NotesServiceQuestionsTests' passed at 2025-07-16 13:10:43.413.
	 Executed 7 tests, with 0 failures (0 unexpected) in 0.019 (0.019) seconds
Test Suite 'NotesServiceTests' started at 2025-07-16 13:10:43.413.
Test Case '-[C11SHouseTests.NotesServiceTests testAddDuplicateQuestionThrows]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testAddDuplicateQuestionThrows]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testAddQuestion]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testAddQuestion]' passed (0.008 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testClearAllData]' started.
[NotesService] Clearing all data...
[NotesService] Resetting to 4 predefined questions
Test Case '-[C11SHouseTests.NotesServiceTests testClearAllData]' passed (0.002 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testConcurrentReadWriteOperations]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testConcurrentReadWriteOperations]' passed (0.002 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testConcurrentSaveOperations]' started.
/Users/adriancockcroft/Documents/GitHub/c11s-house-ios/C11Shouse/C11SHouseTests/Services/NotesServiceTests.swift:393: error: -[C11SHouseTests.NotesServiceTests testConcurrentSaveOperations] : XCTAssertEqual failed: ("nil") is not equal to ("Optional("Concurrent answer 0")")
/Users/adriancockcroft/Documents/GitHub/c11s-house-ios/C11Shouse/C11SHouseTests/Services/NotesServiceTests.swift:393: error: -[C11SHouseTests.NotesServiceTests testConcurrentSaveOperations] : XCTAssertEqual failed: ("nil") is not equal to ("Optional("Concurrent answer 2")")
Test Case '-[C11SHouseTests.NotesServiceTests testConcurrentSaveOperations]' failed (0.002 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testCorruptDataHandling]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testCorruptDataHandling]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testDataPersistenceAcrossInstances]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testDataPersistenceAcrossInstances]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testDeleteNote]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testDeleteNote]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testDeleteQuestion]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testDeleteQuestion]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testErrorDescriptions]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testErrorDescriptions]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testGetCurrentQuestion]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testGetCurrentQuestion]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testGetHouseNameWhenEmpty]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testGetHouseNameWhenEmpty]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testGetNextUnansweredQuestion]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testGetNextUnansweredQuestion]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testGetNoteByQuestionText]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testGetNoteByQuestionText]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testGetNote]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testGetNote]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testGetUnansweredQuestions]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testGetUnansweredQuestions]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testInitializationCreatesDefaultQuestions]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testInitializationCreatesDefaultQuestions]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testInitializationLoadsExistingData]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testInitializationLoadsExistingData]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testMigrationFromOldHouseNameQuestion]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testMigrationFromOldHouseNameQuestion]' passed (0.023 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testNotesStorePublisher]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testNotesStorePublisher]' passed (0.002 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testResetToDefaults]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testResetToDefaults]' passed (0.002 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testSaveAndGetHouseName]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testSaveAndGetHouseName]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testSaveNoteForNonExistentQuestionThrows]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testSaveNoteForNonExistentQuestionThrows]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testSaveNote]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testSaveNote]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testSaveOrUpdateNote]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testSaveOrUpdateNote]' passed (0.002 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testSaveWeatherSummary]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testSaveWeatherSummary]' passed (0.002 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testUpdateNonExistentNoteThrows]' started.
Test Case '-[C11SHouseTests.NotesServiceTests testUpdateNonExistentNoteThrows]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.NotesServiceTests testUpdateNote]' started.
/Users/adriancockcroft/Documents/GitHub/c11s-house-ios/C11Shouse/C11SHouseTests/Services/NotesServiceTests.swift:144: error: -[C11SHouseTests.NotesServiceTests testUpdateNote] : XCTAssertGreaterThan failed: ("2025-07-16 20:10:43 +0000") is not greater than ("2025-07-16 20:10:43 +0000")
Test Case '-[C11SHouseTests.NotesServiceTests testUpdateNote]' failed (0.002 seconds).
Test Suite 'NotesServiceTests' failed at 2025-07-16 13:10:43.479.
	 Executed 28 tests, with 3 failures (0 unexpected) in 0.064 (0.066) seconds
Test Suite 'OnboardingTestScenarios' started at 2025-07-16 13:10:43.479.
Test Case '-[C11SHouseTests.OnboardingTestScenarios testAccessibilityUserAcceptanceCriteria]' started.
Validating scenario: accessibilityUser
  Precondition: VoiceOver enabled
  Precondition: Large text size selected
  Precondition: Reduce motion enabled
  Step 1: Navigate with VoiceOver
    Expected: All elements properly announced
    Threshold: voiceover_compliance [1.0-1.0]
  Step 2: Use voice input
    Expected: Voice alternatives work for all text input
  Step 3: Complete with switch control
    Expected: Full keyboard navigation supported
    Threshold: keyboard_accessibility [1.0-1.0]
  Step 4: Verify visual accommodations
    Expected: High contrast and large text respected
  Outcome: 100% accessible onboarding flow
  Outcome: No barriers for users with disabilities
  Outcome: Alternative input methods available
  Outcome: WCAG 2.1 AA compliance
  Success Metrics:
    Completion Time: 480.0s
    Error Rate: 0.0
    User Satisfaction: 0.9
    Accessibility Score: 1.0
Test Case '-[C11SHouseTests.OnboardingTestScenarios testAccessibilityUserAcceptanceCriteria]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.OnboardingTestScenarios testAllScenariosComplete]' started.

=== Onboarding Test Report ===
Total Scenarios: 8
Passed: 8
Failed: 0

happyPath: PASSED
  Duration: 240.0s

permissionDenied: PASSED
  Duration: 240.0s

noInternet: PASSED
  Duration: 240.0s

existingUser: PASSED
  Duration: 240.0s

accessibilityUser: PASSED
  Duration: 240.0s

privacyFocused: PASSED
  Duration: 240.0s

speedRun: PASSED
  Duration: 240.0s

exploration: PASSED
  Duration: 240.0s
Test Case '-[C11SHouseTests.OnboardingTestScenarios testAllScenariosComplete]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.OnboardingTestScenarios testExistingUserAcceptanceCriteria]' started.
Validating scenario: existingUser
  Precondition: Previous app installation
  Precondition: Existing user data available
  Precondition: Permissions previously granted
  Step 1: Launch reinstalled app
    Expected: App detects existing data
    Threshold: data_recovery_rate [1.0-1.0]
  Step 2: Skip redundant setup
    Expected: Previously entered data is restored
  Step 3: Verify permissions
    Expected: Only missing permissions requested
  Step 4: Access main interface
    Expected: Immediate access to all features
    Threshold: time_to_main_interface [0.0-10.0]
  Outcome: No duplicate onboarding for existing users
  Outcome: All previous data preserved
  Outcome: Seamless continuation of service
  Outcome: Welcome back message shown
  Success Metrics:
    Completion Time: 30.0s
    Error Rate: 0.0
    User Satisfaction: 0.95
    Accessibility Score: 1.0
Test Case '-[C11SHouseTests.OnboardingTestScenarios testExistingUserAcceptanceCriteria]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.OnboardingTestScenarios testHappyPathAcceptanceCriteria]' started.
Validating scenario: happyPath
  Precondition: Fresh app install
  Precondition: No previous data
  Precondition: Internet connection available
  Precondition: Location services enabled
  Step 1: Launch app
    Expected: Welcome screen appears within 500ms
    Threshold: launch_time [0.0-0.5]
  Step 2: Tap 'Start Conversation'
    Expected: Permission education screen appears
  Step 3: Grant all permissions
    Expected: All permissions show granted status
    Threshold: permission_grant_rate [1.0-1.0]
  Step 4: System detects location
    Expected: Address is auto-populated correctly
    Threshold: geocoding_accuracy [0.95-1.0]
  Step 5: Confirm address
    Expected: Progress to house naming
  Step 6: Enter house name
    Expected: Name is saved and displayed
  Step 7: Enter user name
    Expected: Personalized welcome message appears
  Step 8: Complete tutorial
    Expected: Main interface is accessible
    Threshold: tutorial_completion_rate [0.8-1.0]
  Outcome: User completes onboarding in under 5 minutes
  Outcome: All personal data is saved correctly
  Outcome: House personality is established
  Outcome: User can immediately use core features
  Success Metrics:
    Completion Time: 240.0s
    Error Rate: 0.0
    User Satisfaction: 0.9
    Accessibility Score: 1.0
Test Case '-[C11SHouseTests.OnboardingTestScenarios testHappyPathAcceptanceCriteria]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.OnboardingTestScenarios testNoInternetAcceptanceCriteria]' started.
Validating scenario: noInternet
  Precondition: Fresh app install
  Precondition: No internet connection
  Precondition: Airplane mode or network failure
  Step 1: Launch app offline
    Expected: App launches successfully
  Step 2: Grant permissions
    Expected: Permissions work offline
  Step 3: Attempt address detection
    Expected: Geocoding fails gracefully
    Threshold: error_handling_rate [1.0-1.0]
  Step 4: Enter address manually
    Expected: Manual entry works offline
  Step 5: Complete setup
    Expected: All data saved locally
    Threshold: offline_completion_rate [0.95-1.0]
  Outcome: Onboarding completes without network
  Outcome: Data syncs when connection restored
  Outcome: No data loss during offline setup
  Outcome: Clear offline status indication
  Success Metrics:
    Completion Time: 300.0s
    Error Rate: 0.0
    User Satisfaction: 0.8
    Accessibility Score: 1.0
Test Case '-[C11SHouseTests.OnboardingTestScenarios testNoInternetAcceptanceCriteria]' passed (0.000 seconds).
Test Case '-[C11SHouseTests.OnboardingTestScenarios testPermissionDeniedAcceptanceCriteria]' started.
Validating scenario: permissionDenied
  Precondition: Fresh app install
  Precondition: User privacy-conscious
  Step 1: Deny microphone permission
    Expected: App explains limitations clearly
  Step 2: Grant speech recognition
    Expected: Partial functionality message shown
  Step 3: Deny location permission
    Expected: Manual address entry offered
    Threshold: fallback_success_rate [0.95-1.0]
  Step 4: Enter address manually
    Expected: Address is parsed and saved correctly
    Threshold: manual_entry_success [0.9-1.0]
  Step 5: Complete remaining steps
    Expected: Onboarding completes with reduced features
  Outcome: User can complete setup without all permissions
  Outcome: Clear communication about feature limitations
  Outcome: Option to grant permissions later
  Outcome: Core functionality remains accessible
  Success Metrics:
    Completion Time: 360.0s
    Error Rate: 0.05
    User Satisfaction: 0.75
    Accessibility Score: 0.9
Test Case '-[C11SHouseTests.OnboardingTestScenarios testPermissionDeniedAcceptanceCriteria]' passed (0.000 seconds).
Test Suite 'OnboardingTestScenarios' passed at 2025-07-16 13:10:43.482.
	 Executed 6 tests, with 0 failures (0 unexpected) in 0.002 (0.003) seconds
Test Suite 'QuestionFlowCoordinatorTests' started at 2025-07-16 13:10:43.482.
Test Case '-[C11SHouseTests.QuestionFlowCoordinatorTests testGetAnswerForExistingQuestion]' started.
[QuestionFlowCoordinator] Initialized
[QuestionFlowCoordinator] Notifications setup complete (AllQuestionsComplete listener removed)
Test Case '-[C11SHouseTests.QuestionFlowCoordinatorTests testGetAnswerForExistingQuestion]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.QuestionFlowCoordinatorTests testGetAnswerForNonExistentQuestion]' started.
[QuestionFlowCoordinator] Initialized
[QuestionFlowCoordinator] Notifications setup complete (AllQuestionsComplete listener removed)
Test Case '-[C11SHouseTests.QuestionFlowCoordinatorTests testGetAnswerForNonExistentQuestion]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.QuestionFlowCoordinatorTests testGetCurrentAnswerForExistingNote]' started.
[QuestionFlowCoordinator] Initialized
[QuestionFlowCoordinator] Notifications setup complete (AllQuestionsComplete listener removed)
Test Case '-[C11SHouseTests.QuestionFlowCoordinatorTests testGetCurrentAnswerForExistingNote]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.QuestionFlowCoordinatorTests testGetCurrentAnswerForNonExistentNote]' started.
[QuestionFlowCoordinator] Initialized
[QuestionFlowCoordinator] Notifications setup complete (AllQuestionsComplete listener removed)
Test Case '-[C11SHouseTests.QuestionFlowCoordinatorTests testGetCurrentAnswerForNonExistentNote]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.QuestionFlowCoordinatorTests testGetCurrentAnswerHandlesError]' started.
[QuestionFlowCoordinator] Initialized
[QuestionFlowCoordinator] Notifications setup complete (AllQuestionsComplete listener removed)
Test Case '-[C11SHouseTests.QuestionFlowCoordinatorTests testGetCurrentAnswerHandlesError]' passed (0.001 seconds).
Test Case '-[C11SHouseTests.QuestionFlowCoordinatorTests testHandleQuestionChangeForAddressQuestionWithError]' started.
[QuestionFlowCoordinator] Initialized
[QuestionFlowCoordinator] Notifications setup complete (AllQuestionsComplete listener removed)
C11SHouseTests/QuestionFlowCoordinatorTests.swift:625: Fatal error: Unexpectedly found nil while unwrapping an Optional value