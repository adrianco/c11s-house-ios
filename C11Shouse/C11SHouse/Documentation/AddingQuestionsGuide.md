# Adding Questions to the Notes System

This guide explains how to add more questions to the C11S House notes system.

## Overview

The notes system uses a predefined set of questions that users can answer about their house and preferences. Questions are organized by categories and have various properties like display order, hints, and required status.

## Quick Start: Adding a New Question

### Method 1: Add to Predefined Questions (Recommended)

Edit the `NotesStore.swift` file and add your new question to the `predefinedQuestions` array:

```swift
// In NotesStore.swift, find the predefinedQuestions array
extension Question {
    static let predefinedQuestions: [Question] = [
        // Existing questions...
        
        // Add your new question here:
        Question(
            text: "What's your emergency contact?",
            category: .personal,
            displayOrder: 6,  // Increment from the last question
            isRequired: false,
            hint: "Name and phone number for emergencies"
        ),
    ]
}
```

### Method 2: Add Questions Dynamically via Service

You can also add questions programmatically through the NotesService:

```swift
let newQuestion = Question(
    text: "What's your favorite room temperature?",
    category: .preferences,
    displayOrder: 10,
    isRequired: false,
    hint: "Temperature in Fahrenheit or Celsius"
)

try await serviceContainer.notesService.addQuestion(newQuestion)
```

## Question Properties

When creating a new question, you need to specify:

- **text**: The question text (required)
- **category**: One of the predefined categories (required)
- **displayOrder**: Number determining sort order (required)
- **isRequired**: Whether the question must be answered (optional, defaults to false)
- **hint**: Help text shown to users (optional)
- **id**: UUID (auto-generated if not provided)
- **createdAt**: Creation timestamp (auto-generated)

## Available Categories

Questions must belong to one of these categories:

- `.personal` - Personal information (icon: person.circle)
- `.houseInfo` - House details (icon: house)
- `.maintenance` - Maintenance records (icon: wrench.and.screwdriver)
- `.preferences` - User preferences (icon: gearshape)
- `.reminders` - Reminders and notes (icon: bell)
- `.other` - Miscellaneous (icon: questionmark.circle)

## Best Practices

1. **Display Order**: Keep display orders sequential. Lower numbers appear first.
2. **Required Questions**: Use sparingly - only for critical information.
3. **Hints**: Provide clear, helpful hints to guide users.
4. **Categories**: Choose the most appropriate category for organization.
5. **Question Text**: Keep questions clear and concise.

## Examples

### Home Security Question
```swift
Question(
    text: "What's your alarm system code?",
    category: .houseInfo,
    displayOrder: 7,
    isRequired: false,
    hint: "Store securely - only accessible on your device"
)
```

### Maintenance Reminder
```swift
Question(
    text: "When should the water filter be replaced?",
    category: .maintenance,
    displayOrder: 8,
    isRequired: false,
    hint: "Enter date or frequency (e.g., every 6 months)"
)
```

### Personal Preference
```swift
Question(
    text: "What music do you like to wake up to?",
    category: .preferences,
    displayOrder: 9,
    isRequired: false,
    hint: "Genre, artist, or specific playlist"
)
```

## Testing Your Questions

After adding questions:

1. Build and run the app
2. Navigate to the Notes section
3. Verify your new questions appear in the correct order
4. Test answering and editing the questions
5. Check that categories display correctly

## Troubleshooting

- **Questions not appearing**: Check that you've incremented the displayOrder
- **Compilation errors**: Ensure all required parameters are provided
- **Category issues**: Verify you're using a valid QuestionCategory enum value
- **Duplicate questions**: Each question needs a unique ID (auto-generated by default)

## Advanced: Custom Categories

To add a new category, modify the `QuestionCategory` enum in `NotesStore.swift`:

```swift
enum QuestionCategory: String, Codable, CaseIterable {
    // Existing categories...
    case security = "Security"  // Add new category
    
    var iconName: String {
        switch self {
        // Existing cases...
        case .security: return "lock.circle"  // Add icon
        }
    }
}
```

Remember to handle the new category in any switch statements throughout the codebase.